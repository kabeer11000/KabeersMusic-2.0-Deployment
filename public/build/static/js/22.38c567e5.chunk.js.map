{"version":3,"sources":["components/ArtistComponent/ArtistComponent.js"],"names":["useStyles","makeStyles","theme","root","display","flexWrap","justifyContent","overflow","backgroundColor","palette","background","paper","gridList","width","height","icon","color","padding","margin","spacing","textAlign","text","secondary","ArtistSongItem","props","classes","react__WEBPACK_IMPORTED_MODULE_3___default","a","createElement","_material_ui_core_Grid__WEBPACK_IMPORTED_MODULE_7__","item","xs","sm","md","xl","onClick","video","index","_material_ui_core_Grow__WEBPACK_IMPORTED_MODULE_20__","in","_material_ui_core_Paper__WEBPACK_IMPORTED_MODULE_9__","elevation","className","loading","src","snippet","thumbnails","high","url","alt","_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_10__","title","ArtistComponent","history","useHistory","_React$useState","React","useState","_React$useState2","Object","E_Projects_phpstormprojects_music_react_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__","artistObject","setArtistObject","abortController","AbortController","_React$useState3","_React$useState4","PlaySong","data","misc","showBackdrop","getSong","id","videoId","then","value","appState","uri","thumbnail","list","catch","e","Load","initAuth","token","fetch","endPoints","getArtistInfo","URLSearchParams","window","location","search","get","headers","Headers","Authorization","concat","signal","o","ok","json","useEffect","abort","_material_ui_core__WEBPACK_IMPORTED_MODULE_15__","style","position","_material_ui_core__WEBPACK_IMPORTED_MODULE_16__","_material_ui_core__WEBPACK_IMPORTED_MODULE_17__","goBack","edge","aria-label","_material_ui_icons__WEBPACK_IMPORTED_MODULE_18__","flex","items","Fragment","_material_ui_core_Avatar__WEBPACK_IMPORTED_MODULE_11__","author","avatar","marginTop","variant","gutterBottom","total_items","views","name","_material_ui_core_Divider__WEBPACK_IMPORTED_MODULE_12__","container","map","song","key","_Preloader_Preloader__WEBPACK_IMPORTED_MODULE_13__","defaultProps","withRouter","pure"],"mappings":"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","file":"static/js/22.38c567e5.chunk.js","sourcesContent":["import React, {useEffect} from \"react\";\r\nimport \"./ArtistComponent.css\";\r\nimport {initAuth} from \"../../functions/auth\";\r\nimport endPoints from \"../../api/endpoints/endpoints\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport Preloader from \"../Preloader/Preloader\";\r\nimport {getSong} from \"../../functions/songs\";\r\nimport {AppBar, IconButton, Toolbar} from \"@material-ui/core\";\r\nimport {ArrowBack} from \"@material-ui/icons\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport Grow from \"@material-ui/core/Grow\";\r\nimport withRouter from \"react-router-dom/es/withRouter\";\r\nimport {pure} from \"recompose\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexWrap: \"wrap\",\r\n\t\tjustifyContent: \"space-around\",\r\n\t\toverflow: \"hidden\",\r\n\t\tbackgroundColor: theme.palette.background.paper,\r\n\t},\r\n\tgridList: {\r\n\t\twidth: 500,\r\n\t\theight: 450,\r\n\t},\r\n\ticon: {\r\n\t\tcolor: \"rgba(255, 255, 255, 0.54)\",\r\n\t},\r\n\tpaper: {\r\n\t\tpadding: 0,\r\n\t\tmargin: theme.spacing(1),\r\n\t\ttextAlign: \"center\",\r\n\t\tcolor: theme.palette.text.secondary,\r\n\t},\r\n}));\r\nconst ArtistSongItem = (props) => {\r\n\tconst classes = useStyles();\r\n\t//  style={{backgroundImage: `url(${props.video.snippet.thumbnails.high.url})`, backgroundSize: 'contain', backgroundRepeat:'no-repeat'}}\r\n\treturn (\r\n\t\t<Grid item xs={6} sm={4} md={3} xl={3} onClick={() => {\r\n\t\t\tprops.onClick(props.video, props.index);\r\n\t\t}}>\r\n\t\t\t<Grow in={true}>\r\n\t\t\t\t<Paper elevation={3} className={classes.paper}>\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tloading={\"lazy\"}\r\n\t\t\t\t\t\tsrc={props.video.snippet.thumbnails.high.url} alt={\"PlayList Icon\"} className={`h-100 w-100`}/>\r\n\t\t\t\t\t<div className={\"p-2 \"}>\r\n\t\t\t\t\t\t<Typography className={\"text-left text-truncate\"}>{props.video.snippet.title}</Typography>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Paper>\r\n\t\t\t</Grow>\r\n\t\t</Grid>\r\n\t);\r\n};\r\nconst ArtistComponent = (props) => {\r\n\tconst classes = useStyles();\r\n\tlet history = useHistory();\r\n\tconst [artistObject, setArtistObject] = React.useState({});\r\n\t//const [enqueueSnackbar, closeSnackbar] = useSnackbar();\r\n\tconst abortController = new AbortController();\r\n\tconst [loadLimit, setLoadLimit] = React.useState(0);\r\n\r\n\tfunction useQuery() {\r\n\t\treturn new URLSearchParams(window.location.search);\r\n\t}\r\n\r\n\tfunction PlaySong(data, index) {\r\n\t\tprops.misc.showBackdrop();\r\n\t\tgetSong(typeof data.id === \"object\" ? data.id.videoId : data.id).then(value => {\r\n\t\t\tif (!value) return;\r\n\t\t\t//Avoid the Promise Error\r\n\t\t\tprops.appState({\r\n\t\t\t\turi: value,\r\n\t\t\t\tthumbnail: data.snippet.thumbnails.high.url,\r\n\t\t\t\tvideo: data,\r\n\t\t\t\tlist: artistObject,\r\n\t\t\t\tindex: index\r\n\t\t\t});\r\n\t\t}).catch(e => /*enqueueSnackbar(\"Cannot Play Song\")*/e);\r\n\t}\r\n\r\n\tconst getPlaylistFromAPI = async (e, t) => await fetch(endPoints.getPlayListById(e), {\r\n\t\theaders: new Headers({Authorization: `Bearer ${t}`}),\r\n\t\tsignal: abortController.signal\r\n\t});\r\n\r\n\tconst Load = () => {\r\n\t\tinitAuth().then(token => fetch(endPoints.getArtistInfo(useQuery().get(\"id\")), {\r\n\t\t\theaders: new Headers({Authorization: `Bearer ${token}`}),\r\n\t\t\tsignal: abortController.signal\r\n\t\t})\r\n\t\t\t.then(o => o.ok ? o.json() : null)\r\n\t\t\t.then(e => setArtistObject(e))\r\n\t\t\t.catch(o => (o)));\r\n\t};\r\n\tconst goBack = () => {\r\n\t\thistory.goBack();\r\n\t};\r\n\tuseEffect(() => {\r\n\t\tLoad();\r\n\t\treturn () => {\r\n\t\t\tabortController.abort();\r\n\t\t};\r\n\t}, []);\r\n\treturn (\r\n\t\t<div className={`ArtistComponent ${classes.root}`}>\r\n\t\t\t<AppBar color={\"transparent\"} elevation={0} style={{position: \"relative\"}}>\r\n\t\t\t\t<Toolbar color={\"#BBBBBB\"} style={{color: \"#BBBBBB\"}}>\r\n\t\t\t\t\t<IconButton onClick={goBack} edge=\"start\" aria-label=\"close\">\r\n\t\t\t\t\t\t<ArrowBack/>\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t<div style={{flex: \"1 1 auto\"}}/>\r\n\t\t\t\t</Toolbar>\r\n\t\t\t</AppBar>\r\n\t\t\t{\r\n\t\t\t\tartistObject.items ? (\r\n\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t<div className={\"text-left w-100 mx-3\"}>\r\n\t\t\t\t\t\t\t<div className={\"p-3\"} style={{display: \"inline-flex\"}}>\r\n\t\t\t\t\t\t\t\t<Avatar src={artistObject.author.avatar} style={{width: \"5rem\", height: \"5rem\"}}/>\r\n\t\t\t\t\t\t\t\t<div className={\"text-center\"}\r\n\t\t\t\t\t\t\t\t\t style={{display: \"inline-flex\", marginTop: \"5%\", justifyContent: \"space-evenly\"}}>\r\n\t\t\t\t\t\t\t\t\t<Typography variant={\"overline\"} className={\"text-truncate mx-2\"} gutterBottom>\r\n\t\t\t\t\t\t\t\t\t\t{artistObject.total_items} Songs\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t<Typography variant={\"overline\"} className={\"text-truncate mx-2\"} gutterBottom>\r\n\t\t\t\t\t\t\t\t\t\t{artistObject.views} Views\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t<Typography variant={\"overline\"} className={\"pl-3\"}>{artistObject.author.name}</Typography>\r\n\t\t\t\t\t\t\t<Divider className={\"my-2\"}/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Grid container spacing={0.5}>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tartistObject.items.map((song, index) => (\r\n\t\t\t\t\t\t\t\t\t<ArtistSongItem video={song} index={index} key={index}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={PlaySong}/>\r\n\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t) : <Preloader/>\r\n\t\t\t}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nArtistComponent.propTypes = {};\r\n\r\nArtistComponent.defaultProps = {};\r\n\r\nexport default withRouter(pure(ArtistComponent));\r\n{\r\n\t/*\r\n\t\t\t\t\t\t\t<Button onClick={()=>{\r\n\t\t\t\t\t\t\t//const newList = concat(artistObject.items, artistObject.items.slice(loadLimit, loadLimit+5));\r\n\t\t\t\t\t\t\tconst newList = artistObject.items.slice(loadLimit, loadLimit + 5);\r\n\t\t\t\t\t\t\t//setLoadLimit(loadLimit+5);\r\n\t\t\t\t\t\t\tsetArtistObject(prevState => ({...prevState, items: artistObject.items + newList}))\r\n\t\t\t\t\t\t}}> Load More</Button>\r\n\t */\r\n}\r\n"],"sourceRoot":""}
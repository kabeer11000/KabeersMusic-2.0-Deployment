(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{108:function(e,t,n){"use strict";var r=n(6),a=n.n(r),o=n(28),c=n(12),i=n(82),u=n(18),s=n.n(u),l=n(41);function d(e){var t=e;return new Promise(function(e,n){return Object(l.a)().then(function(r){var a=new XMLHttpRequest;a.open("GET",s.a.proxyURI(t)),a.responseType="blob",a.setRequestHeader("Authorization","Bearer ".concat(r)),a.onload=function(){var t=a.status;t>=200&&t<300?e(a.response):n({status:t,statusText:a.statusText})},a.send(),setTimeout(function(){a.abort(),a.open("GET",s.a.proxyURI(t)),a.send()},1e3)})})}var f=n(49),h=n(142);n(140);n.d(t,"c",function(){return b}),n.d(t,"b",function(){return y}),n.d(t,"f",function(){return O}),n.d(t,"g",function(){return k}),n.d(t,"d",function(){return x}),n.d(t,"a",function(){return P}),n.d(t,"h",function(){return D}),n.d(t,"i",function(){return C}),n.d(t,"e",function(){return R});var p=10;function m(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(Date.now()/1e3).toString(16).split(".").join("");n.length<14;)n+="0";var r="";return t&&(r=".",r+=Math.round(1e8*Math.random())),e+n+r}var g=new i.a("KabeersMusic_Songs");g.version(p).stores({songs:"id, &videoId, valid, time, rating, blob, state, thumbnail"});var v=new i.a("KabeersMusic_History");function b(){return w.apply(this,arguments)}function w(){return(w=Object(c.a)(a.a.mark(function e(){var t,n,r=arguments;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=r.length>0&&void 0!==r[0]?r[0]:{videoId:null,rating:0,title:"",channelTitle:"",tags:"",videoElement:{},success:function(){},error:function(){}},n=r.length>1&&void 0!==r[1]?r[1]:new AbortController,e.prev=2,Object(l.a)().then(function(){var e=Object(c.a)(a.a.mark(function e(r){var i;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Download Started"),i="https://i.ytimg.com/vi/".concat(t.videoId,"/hqdefault.jpg"),Object(f.a)(s.a.getProxyfiedURI(t.videoId),{headers:new Headers({Authorization:"Bearer ".concat(r)}),signal:n.signal}).then(function(e){return e.json()}).then(function(){var e=Object(c.a)(a.a.mark(function e(n){var r,c,u,s;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([d(i),d(n)]);case 2:r=e.sent,c=Object(o.a)(r,2),u=c[0],s=c[1],g.songs.put({id:t.videoId,state:"downloaded",thumbnail:u,blob:s,valid:!0,time:Date.now(),videoId:t.videoId,rating:t.rating,tags:t.tags||[],title:t.title,channelTitle:t.channelTitle,videoElement:t.videoElement}).then(function(e){t.success()}).catch(function(e){t.error()});case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(2),e.abrupt("return",e.t0);case 9:case"end":return e.stop()}},e,null,[[2,6]])}))).apply(this,arguments)}function y(e){return E.apply(this,arguments)}function E(){return(E=Object(c.a)(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.songs.delete(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function O(e){return S.apply(this,arguments)}function S(){return(S=Object(c.a)(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(l.a)().then(function(e){return navigator.onLine?Object(f.a)(s.a.getProxyfiedURI(t),{headers:new Headers({Authorization:"Bearer ".concat(e)})},1e5).then(function(e){return e.ok?e.json():null}):new Error("No Connection")}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function k(e){return j.apply(this,arguments)}function j(){return(j=Object(c.a)(a.a.mark(function e(t){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.songs.toArray();case 2:if(!(n=e.sent).some(function(e){return e.id===t})){e.next=5;break}return e.abrupt("return",n.find(function(e){return e.videoId===t}));case 5:return e.abrupt("return",Object(l.a)().then(function(e){Object(f.a)(s.a.getProxyfiedURI(t),{headers:new Headers({Authorization:"Bearer ".concat(e)})}).then(function(e){return e.ok?e.json():null})}));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function x(){return F.apply(this,arguments)}function F(){return(F=Object(c.a)(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",g.songs.toArray());case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}v.version(p).stores({songs:"id, time, rating, thumbnail, channelTitle, title, tags"});var I={},T={isCaseSensitive:!1,shouldSort:!1,threshold:.6,ignoreLocation:!0,useExtendedSearch:!0,findAllMatches:!0,keys:["title","channelTitle",{name:"title",weight:1.5},{name:"channelTitle",weight:1}]};function P(e){return A.apply(this,arguments)}function A(){return(A=Object(c.a)(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",I.fuse.search(t));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function D(e){return _.apply(this,arguments)}function _(){return(_=Object(c.a)(a.a.mark(function e(t){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.songs.toArray();case 2:return n=e.sent,e.abrupt("return",n&&n.some(function(e){return e.id===t}));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function C(e){return N.apply(this,arguments)}function N(){return(N=Object(c.a)(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:v.songs.put({id:m()+m(),title:t.title,channelTitle:t.ChannelTitle,tags:t.tags,thumbnail:t.thumbnail,time:Date.now(),rating:t.rating}).then(function(e){console.log(e)});case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function R(){return U.apply(this,arguments)}function U(){return(U=Object(c.a)(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v.songs.toArray()||[]);case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function L(){return(L=Object(c.a)(a.a.mark(function e(){var t,n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.songs.toArray();case 2:return t=e.sent,n=[],t.map(function(e,t){n.push(e.videoElement)}),e.abrupt("return",{kind:"KabeersMusic#searchListResponse",etag:"makeid(10)",regionCode:"PK",pageInfo:{totalResults:n.length},items:n});case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}g.songs.toArray().then(function(e){I.fuse=new h.a(e,T)}),console.log("%20 SongJS Loaded"),function(){L.apply(this,arguments)}()},126:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(19),c=Object(r.lazy)(function(){return n.e(12).then(n.bind(null,249))});t.a=function(e){return a.a.createElement(r.Suspense,{fallback:a.a.createElement(o.a,null)},a.a.createElement(c,e))}},135:function(e,t,n){"use strict";var r=n(33),a=n(6),o=n.n(a),c=n(28),i=n(12),u="123456",s=["i","a","about","an","and","are","as","at","be","by","com","de","en","for","from","how","in","is","it","la","of","on","or","that","the","this","to","was","what","when","where","who","will","with","und","www","ourselves","hers","between","yourself","but","again","there","once","during","out","very","having","they","own","some","do","its","yours","such","into","most","itself","other","off","s","am","him","each","themselves","until","below","we","these","your","his","through","don","nor","me","were","her","more","himself","down","should","our","their","while","above","both","up","ours","had","she","all","no","any","before","them","same","been","have","does","yourselves","then","because","over","why","so","can","did","not","now","under","he","you","herself","has","just","too","only","myself","which","those","after","few","whom","t","being","if","theirs","my","against","doing","further","here","than","cry","sentence","\xa9","\u21b5","#","!!","?!","??","!?","`","``","''","-lrb-","-rrb-","-lsb-","-rsb-",",",".",":",";",'"',"'","?","<",">","{","}","[","]","+","-","(",")","&","%","$","@","!","^","*","..","...","'ll","'s","'m","aren't","can't","cannot","could","couldn't","didn't","doesn't","don't","hadn't","hasn't","haven't","he'd","he'll","he's","here's","how's","i'd","i'll","i'm","i've","isn't","it's","let's","mustn't","ought","ours ","shan't","she'd","she'll","she's","shouldn't","that's","there's","they'd","they'll","they're","they've","wasn't","we'd","we'll","we're","we've","weren't","what's","when's","where's","who's","why's","won't","would","wouldn't","you'd","you'll","you're","you've","###","return","arent","cant","couldnt","didnt","doesnt","dont","hadnt","hasnt","havent","hes","heres","hows","im","isnt","lets","mustnt","shant","shes","shouldnt","thats","theres","theyll","theyre","theyve","wasnt","werent","whats","whens","wheres","whos","whys","wont","wouldnt","youd","youll","youre","youve"],l=n(18),d=n.n(l),f=n(41);function h(e){return p.apply(this,arguments)}function p(){return(p=Object(i.a)(o.a.mark(function e(t){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.toLowerCase().replace(/(?:https?|ftp|http):\/\/[\n\S]+/g,"").replace(/[^\w\d ]/g,"").split(" "),e.abrupt("return",n.filter(function(e){return-1===s.indexOf(e)}).filter(function(e,t,n){return n.indexOf(e)===t}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function m(e){return Object.entries(e).map(function(e){var t=Object(c.a)(e,2),n=t[0],r=t[1];return"".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(r))}).join("&")}function g(e){return v.apply(this,arguments)}function v(){return(v=Object(i.a)(o.a.mark(function e(t){var n,a=arguments;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=a.length>1&&void 0!==a[1]?a[1]:function(){},Object(f.a)().then(function(e){h(t.snippet.description?t.snippet.description.substring(0,100):"").then(function(a){var o="";"object"===typeof t.id&&(o=t.id.videoId),"string"===typeof t.id&&(o=t.id);var c={method:"POST",body:m({time:(new Date).getTime(),user_id:u,video_id:o,artist_name:t.snippet.channelTitle,channelId:t.snippet.channelId,tags:t.snippet.tags||[],yt_catagory:10,video_title:t.snippet.title.replace(/[^a-zA-Z ]/g,""),video_keywords:Object(r.a)(a),video_featuring_artists:t.snippet.title.replace(/[^a-zA-Z ]/g,"").split(/ft.|feat.|ft|feat/i)||"",video_description:t.snippet.description?t.snippet.description.substring(0,100):""}),headers:new Headers({"Content-Type":"application/x-www-form-urlencoded",Authorization:"Bearer ".concat(e)})};fetch(d.a.saveWatchHistory,c).then(function(){n()}).catch(function(e){return e})})});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}n.d(t,"b",function(){return m}),n.d(t,"a",function(){return g})},14:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={userData:"bGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9",homeSongObject:"6pcGyKPkNzCc1LIrvJperozvZemGtVK6FKn2uU4",homeTimeObject:"b1dvcmxkX0NuOU91VU5UWlJmdWFDbndjNjp1c2V",deviceEtag:"iJBU3Ryb1dvcmxkX0NuOU91VWlJmdWFozvZ",deviceName:"MDcwYTlmZTIzOTQ1N2QiLCJpYXQiOjE268d",castDevices:"QiOjE2MDAwNTE4MDEsImV4cCI6MTYwMDA1O",castEnabled:"castEnabled"}},176:function(e,t,n){e.exports=n(205)},18:function(e,t){var n="".concat(window.location.protocol,"//").concat(window.location.host),r={hostName:n,getUserData:"".concat(n,"/auth/user/data"),mostPopular:function(e){return"https://www.googleapis.com/youtube/v3/videos?part=snippet&videoCategoryId=10&type=video&key=".concat(e,"&chart=mostPopular")},mostPopularFake:function(e){return"".concat(n,"/files/yt-fake/sample-response-master/yt-api/yt.json")},getProxyfiedURI:function(e){return"".concat(n,"/api/song?id=").concat(e)},getSuggestion:function(e){return"https://suggestqueries.google.com/complete/search?"},getSuggestionFake:function(e){return"https://cors-anywhere.herokuapp.com/http://clients1.google.com/complete/search?hl=en&output=toolbar&q=".concat(e)},searchYoutube:function(e,t){return"".concat(n,"/api/search?q=").concat(t)},searchYoutubeFake:function(e,t){return"".concat(n,"/files/yt-fake/sample-response-master/yt-api/search-result.json")},proxyURI:function(e){return"".concat(n,"/proxy/").concat(e)},saveWatchHistory:"".concat(n,"/api/history/save"),saveSearchHistory:"".concat(n,"/api/search/save"),getFeed:function(){return"".concat(n,"/api/feed")},getFeedFake:function(){return"".concat(n,"/files/yt-fake/sample-response-master/yt-api/suggested-cardib.json")},authRedirect:"".concat(n,"/auth/redirect"),refreshToken:"".concat(n,"/auth/store/tokens/refresh"),getSearchFeed:function(){return"".concat(n,"/api/feed/search")},getTopArtistFeed:function(){return"".concat(n,"/api/feed/topartist")},getPlayListById:function(e){return"".concat(n,"/api/backend/playlist?playlist=").concat(e)},getPlayListByIdSearchFallback:function(e){return"".concat(n,"/api/backend/search?q=").concat(e,"&playListMode=true")},getFeedArtists:"".concat(n,"/api/feed/artists/all"),getArtistInfo:function(e){return"".concat(n,"/api/backend/get/artist?id=").concat(e)},castURL:function(e,t){return"".concat(n,"/cast/user/connect?user_id=").concat(e,"&device_id=").concat(t)},updateActiveDevices:"".concat(n,"/cast/user/devices/update"),unregisterDevice:"".concat(n,"/cast/user/devices/unregister"),sendCastPlay:"".concat(n,"/cast/user/devices/send")};e.exports=r},181:function(e,t,n){},184:function(e,t,n){},185:function(e,t,n){},19:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=(n(185),n(159)),c=n(50),i=function(){return a.a.createElement("div",{className:"Preloader text-center",style:{width:"10rem",height:"10rem",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},a.a.createElement(o.a,null))};i.defaultProps={},t.a=Object(c.a)(i)},205:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(11),c=n.n(o),i=(n(181),n(6)),u=n.n(i),s=n(12),l=n(25),d=n(28),f=(n(184),n(19)),h=Object(r.lazy)(function(){return n.e(16).then(n.bind(null,418))}),p=function(e){return a.a.createElement(r.Suspense,{fallback:a.a.createElement(f.a,null)},a.a.createElement(h,e))},m=n(85),g=n(16),v=Object(r.lazy)(function(){return Promise.all([n.e(0),n.e(9)]).then(n.bind(null,406))}),b=function(e){return a.a.createElement(r.Suspense,{fallback:a.a.createElement(f.a,null)},a.a.createElement(v,e))},w=Object(r.lazy)(function(){return Promise.all([n.e(0),n.e(13),n.e(23)]).then(n.bind(null,419))}),y=function(e){return a.a.createElement(r.Suspense,{fallback:a.a.createElement(f.a,null)},a.a.createElement(w,e))},E=Object(r.lazy)(function(){return Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(10)]).then(n.bind(null,415))}),O=function(e){return a.a.createElement(r.Suspense,{fallback:a.a.createElement(f.a,null)},a.a.createElement(E,e))},S=n(115),k=n(234),j=n(126),x=Object(r.lazy)(function(){return Promise.all([n.e(0),n.e(4),n.e(19)]).then(n.bind(null,420))}),F=function(e){return a.a.createElement(r.Suspense,{fallback:a.a.createElement(f.a,null)},a.a.createElement(x,e))},I=Object(r.lazy)(function(){return Promise.all([n.e(1),n.e(11)]).then(n.bind(null,421))}),T=function(e){return a.a.createElement(r.Suspense,{fallback:a.a.createElement(f.a,null)},a.a.createElement(I,e))},P=n(105),A=n(88),D=n(38),_=n(50),C=Object(r.lazy)(function(){return Promise.all([n.e(2),n.e(25)]).then(n.bind(null,416))}),N=Object(_.a)(function(e){return a.a.createElement(r.Suspense,{fallback:a.a.createElement(f.a,null)},a.a.createElement(C,e))}),R=Object(r.lazy)(function(){return Promise.all([n.e(0),n.e(4),n.e(14)]).then(n.bind(null,417))}),U=function(e){return a.a.createElement(r.Suspense,{fallback:a.a.createElement(f.a,null)},a.a.createElement(R,e))},L=n(159),z=Object(r.lazy)(function(){return Promise.all([n.e(0),n.e(18),n.e(20)]).then(n.bind(null,422))}),M=function(e){return a.a.createElement(r.Suspense,{fallback:a.a.createElement(L.a,null)},a.a.createElement(z,e))},J=n(112),B=n(246),H=Object(r.lazy)(function(){return Promise.all([n.e(2),n.e(1),n.e(3),n.e(8),n.e(26)]).then(n.bind(null,423))}),W=function(e){return a.a.createElement(r.Suspense,{fallback:null},a.a.createElement(H,e))},q=Object(r.lazy)(function(){return n.e(24).then(n.bind(null,411))}),K=function(e){return a.a.createElement(r.Suspense,{fallback:null},a.a.createElement(q,e))},X=(n(190),n(119)),V=n(18),G=n.n(V),Y=Object(r.lazy)(function(){return Promise.all([n.e(0),n.e(21)]).then(n.bind(null,412))}),Q=function(e){return a.a.createElement(r.Suspense,{fallback:null},a.a.createElement(Y,e))},Z=n(245),$=Object(r.lazy)(function(){return Promise.all([n.e(0),n.e(15),n.e(22)]).then(n.bind(null,413))}),ee=function(e){return a.a.createElement(r.Suspense,{fallback:null},a.a.createElement($,e))},te=n(141),ne=n(54),re=n(143),ae=n(108),oe=Object(_.a)(function(){window.onload=ne.c,Object(ne.f)(!0,function(e){}),Object(ne.e)(!0,function(e){e=JSON.parse(e.data),Object(ae.f)(e.video.snippet.id).then(function(t){t&&H({uri:t,thumbnail:e.video.snippet.thumbnails.high.url,video:e.video,list:{items:[e.video]},index:0})})}),Object(re.a)(ne.g);var e=a.a.useState(null!==localStorage.getItem("darkmode")&&JSON.parse(localStorage.getItem("darkmode"))),t=Object(d.a)(e,2),n=t[0],r=t[1],o=a.a.useState(!0),c=Object(d.a)(o,2),i=c[0],f=c[1],h=a.a.useState(!0),v=Object(d.a)(h,2),w=v[0],E=v[1],x=a.a.useState(navigator.onLine),I=Object(d.a)(x,2),_=I[0],C=(I[1],new AbortController,n?"dark":"light"),R={primary:{contrastText:n?"#757575":"#FFFFFF",appBarText:"#FFFFFF",main:"#E14A58",light:n?"#757575":"#FFFFFF",dark:n?"#303030":"#FFFFFF",miniPlayer:{main:n?"#303030":"#FEFEFE",borderTop:n?"#E14A58":"#3C3F41",text:n?"#FFFFFF":"#2B2B2B"},player:{slider:{rail:"#FFF",thumb:"#FFF",thumbColorPrimary:"#FFF"},invertButtons:{main:"#E14A58",invert:"#FFFFFF"},volumeSlider:{main:"#000"}}},secondary:{main:"#E14A58",light:n?"#757575":"#FFFFFF",dark:n?"#303030":"#FFFFFF"},background:{}},L=Object(S.a)({palette:Object(l.a)({type:C},R,{Slider:{root:{color:"#6f8eff",height:3,padding:"13px 0"},track:{height:4,borderRadius:2},thumb:{height:20,width:20,backgroundColor:"#000",border:"1px solid currentColor",marginTop:-9,marginLeft:-11,boxShadow:"#ebebeb 0 2px 2px","&:focus, &:hover, &$active":{boxShadow:"#ccc 0 2px 3px 1px"},color:"#000"}}})}),z=function(){r(!n),localStorage.setItem("darkmode",JSON.stringify(!n))};function H(e){return q.apply(this,arguments)}function q(){return(q=Object(s.a)(u.a.mark(function e(t){var n,r,a=arguments;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=!(a.length>1&&void 0!==a[1])||a[1],r=document.getElementById("MainAudio-KabeersMusic");try{r.pause(),r.src="",t.list&&t.index&&t.thumbnail&&t.video&&t.uri?t.hidden=!1:t.hidden=!0,r.src=n?G.a.proxyURI(t.uri):t.uri,A.a.dispatch(Object(D.g)(r,t.video,{Dialog:!0,MiniPlayer:!1},function(){},{list:t.list,index:t.index})),f(!0),f(!1),E(!0)}catch(o){console.log(o)}case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}var V={hideBackdrop:function(){E(!0)},showBackdrop:function(){E(!1)}};return a.a.createElement(P.a,{store:A.a},a.a.createElement(k.a,{theme:L},a.a.createElement(m.a,null,a.a.createElement(Z.a,null,a.a.createElement(X.DialogProvider,null,a.a.createElement(J.a,{maxSnack:1},a.a.createElement(B.a,null),a.a.createElement("div",{className:"App"},a.a.createElement(T,null,a.a.createElement(g.b,{exact:!0,path:["/","/home","/search","/downloads","/history","/liked","/charts"],render:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(j.a,null),a.a.createElement(b,{progress_hidden:w}))}}),a.a.createElement(O,{offline:_,misc_func:V,hidden:i,changes:H}),a.a.createElement(N,{hidden:i}),a.a.createElement(g.b,{path:"/home",render:function(){return a.a.createElement(p,{misc:V,appState:H})}}),a.a.createElement(g.b,{path:"/",render:function(){return a.a.createElement(te.a,{to:"/home"})}}),a.a.createElement(g.b,{exact:!0,path:"/downloads",render:function(){return a.a.createElement(y,{appState:H})}}),a.a.createElement(g.b,{exact:!0,path:"/search",component:F}),a.a.createElement(g.b,{exact:!0,path:"/liked",component:K}),a.a.createElement(g.b,{exact:!0,path:"/settings",render:function(){var e=document.getElementById("MainAudio-KabeersMusic");return e.paused||e.pause(),a.a.createElement(W,{handleTheme:z})}}),a.a.createElement(g.b,{exact:!0,path:"/history",component:M}),a.a.createElement(g.b,{exact:!0,path:"/charts",component:Q}),a.a.createElement(g.b,{exact:!0,path:"/artist",render:function(){return a.a.createElement(ee,{appState:H,misc:V})}}),a.a.createElement(g.b,{exact:!0,path:"/search/results",render:function(){return a.a.createElement(U,{appState:H})}})))))))))}),ce=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ie(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()}).catch(function(e){console.error(e.message)}),console.log=function(){},c.a.render(a.a.createElement(a.a.Fragment,null,a.a.createElement(oe,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat(".","/service-worker.js");ce?(function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then(function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):ie(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):ie(t,e)})}}()},38:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return o}),n.d(t,"d",function(){return c}),n.d(t,"c",function(){return i}),n.d(t,"e",function(){return u}),n.d(t,"h",function(){return s}),n.d(t,"g",function(){return l}),n.d(t,"i",function(){return d}),n.d(t,"f",function(){return f});var r=n(25),a="CHANGE_DRAWER",o="CURRENT_SONG",c="SEARCH_QUERY_PARAM",i="HOME_COMPONENT_STATE",u="SET_AUTOPLAY";function s(e){return{type:a,drawer:e}}function l(e,t,n,a,c){return{type:o,currentSong:{audioElement:e,videoElement:t,componentState:n,reOpenDialog:a,playList:Object(r.a)({},c)}}}function d(e){return{type:c,q:e}}function f(e){return{type:u,autoPlay:e}}},41:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(6),a=n.n(r),o=n(12),c=n(18),i=n.n(c),u=n(49),s=n(14),l={getCookie:function(e){for(var t=e+"=",n=decodeURIComponent(document.cookie).split(";"),r=0;r<n.length;r++){for(var a=n[r];" "===a.charAt(0);)a=a.substring(1);if(0===a.indexOf(t))return a.substring(t.length,a.length)}return""},setCookie:function(e,t,n){var r=new Date;r.setTime(r.getTime()+24*n*60*60*1e3);var a="expires="+r.toUTCString();document.cookie=e+"="+t+";"+a+";path=/"}};function d(){return f.apply(this,arguments)}function f(){return(f=Object(o.a)(a.a.mark(function e(){var t;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l.getCookie("token")){e.next=3;break}return e.abrupt("return",window.location.href=i.a.authRedirect);case 3:if(t=JSON.parse(t),!(Math.floor((Date.now()-t.exp)/1e3/60)>120)){e.next=8;break}return e.next=7,Object(u.a)(i.a.refreshToken,{},5e3).then(function(e){return e.ok?e.json():null});case 7:return e.abrupt("return",e.sent);case 8:return e.abrupt("return",t.token);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}Object(o.a)(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:l.getCookie("user_data_token")&&null===localStorage.getItem(s.a.userData)&&Object(u.a)("http://localhost:9000/auth/user/data",{headers:new Headers({IdToken:JSON.parse(l.getCookie("user_data_token")).token})}).then(function(e){return e.json()}).then(function(e){return localStorage.setItem(s.a.userData,btoa(JSON.stringify(e)))}).catch(function(e){return console.log(e)});case 1:case"end":return e.stop()}},e)}))()},49:function(e,t,n){"use strict";var r=n(25),a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return new Promise(function(r,a){var o=1;return function e(n,c){return fetch(n,t).then(r).catch(function(t){1===c?a(t):setTimeout(function(){o++,e(n,c-1)},3e3*o)})}(e,n)})};t.a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:7e3,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,c=new AbortController;return Promise.race([a(e,Object(r.a)({},t,{signal:c.signal}),o),new Promise(function(e,t){return setTimeout(function(){return t(function(){c.abort(),new Error("timeout")})},n)})])}},54:function(e,t,n){"use strict";var r=n(6),a=n.n(r),o=n(12),c=n(18),i=n.n(c),u=n(14),s=n(135);function l(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(Date.now()/1e3).toString(16).split(".").join("");n.length<14;)n+="0";var r="";return t&&(r=".",r+=Math.round(1e8*Math.random())),e+n+r}n.d(t,"a",function(){return p}),n.d(t,"f",function(){return m}),n.d(t,"e",function(){return g}),n.d(t,"c",function(){return v}),n.d(t,"g",function(){return w}),n.d(t,"d",function(){return y}),n.d(t,"b",function(){return E});var d=localStorage.getItem(u.a.userData)?JSON.parse(atob(localStorage.getItem(u.a.userData))).user_id:null,f=localStorage.getItem(u.a.deviceEtag)?localStorage.getItem(u.a.deviceEtag):null,h=new EventSource(i.a.castURL(d,f)),p=localStorage.getItem(u.a.castEnabled),m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e?h.addEventListener("deviceListUpdate-".concat(d),function(e){localStorage.setItem(u.a.castDevices,JSON.stringify(JSON.parse(e.data).castDevices.filter(function(e){return e!==f}))),t(e)}):h.removeEventListener("deviceListUpdate-".concat(d),t)},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e?h.addEventListener("devicePlay-".concat(d,"-").concat(f),t):h.removeEventListener("devicePlay-".concat(d,"-").concat(f),t)},v=function(){var e=Object(o.a)(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(i.a.updateActiveDevices,{method:"POST",headers:new Headers({deviceid:localStorage.getItem(u.a.deviceEtag),userdata:JSON.parse(atob(localStorage.getItem(u.a.userData))).user_id}),body:Object(s.b)({deviceid:localStorage.getItem(u.a.deviceEtag),userdata:JSON.parse(atob(localStorage.getItem(u.a.userData))).user_id})}).then(function(e){return e.json()}).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(o.a)(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.getItem(u.a.deviceEtag)||localStorage.setItem(u.a.deviceEtag,l());case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(o.a)(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.removeItem(u.a.castDevices),e.next=3,fetch(i.a.unregisterDevice,{method:"POST",headers:new Headers({deviceid:localStorage.getItem(u.a.deviceEtag),userdata:atob(localStorage.getItem(u.a.userData))})});case 3:return e.abrupt("return",!0);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(o.a)(a.a.mark(function e(t,n){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(i.a.sendCastPlay,{method:"POST",headers:new Headers({"Content-Type":"application/x-www-form-urlencoded",remotedeviceid:n,deviceid:localStorage.getItem(u.a.deviceEtag),userdata:atob(localStorage.getItem(u.a.userData)),videoelement:JSON.stringify(t)}),body:{}}).then(function(e){return console.log("Cast Sent",e.json())});case 2:return e.abrupt("return",!0);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),E=function(){return JSON.parse(localStorage.getItem(u.a.castDevices))||[]};Object(o.a)(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return","true"===localStorage.getItem(u.a.castEnabled)?b().then(v).then(localStorage.setItem(u.a.castEnabled,!0)):null);case 1:case"end":return e.stop()}},e)}))()},88:function(e,t,n){"use strict";var r=n(55),a=n(25),o=n(38),c={currentSong:{audioElement:new Audio(""),videoElement:{},playList:{index:0,list:[]},reOpenDialog:function(){}},drawer:!1,q:"",autoPlay:!1};var i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.a:return{currentSong:e.currentSong,drawer:t.drawer};case o.b:return{currentSong:t.currentSong,drawer:e.drawer};case o.d:return Object(a.a)({},e,{q:t.q});case o.c:return Object(a.a)({},e,{home:t.home});case o.e:return Object(a.a)({},e,{autoPlay:t.autoPlay});default:return e}},u=n(139),s=n(20),l=n(21),d=function(){function e(){Object(s.a)(this,e)}return Object(l.a)(e,[{key:"loadState",value:function(){try{var e=localStorage.getItem("KabeersMusic:state");return null===e?this.initializeState():JSON.parse(e)}catch(t){return this.initializeState()}}},{key:"saveState",value:function(e){try{var t=JSON.stringify(e);localStorage.setItem("KabeersMusic:state",t)}catch(n){}}},{key:"initializeState",value:function(){return{currentSong:{audioElement:new Audio(""),videoElement:{},playList:{index:0,list:[]},reOpenDialog:function(){}},drawer:!1,q:""}}}]),e}(),f={currentSong:{audioElement:new Audio(""),videoElement:{},playList:{index:0,list:[]},reOpenDialog:function(){}},drawer:!1,q:"",autoPlay:!1},h=(new d,[u.a]),p=Object(r.d)(i,f,Object(r.c)(r.a.apply(void 0,h),window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e}));t.a=p}},[[176,6,7]]]);
//# sourceMappingURL=main.1a34bc18.chunk.js.map
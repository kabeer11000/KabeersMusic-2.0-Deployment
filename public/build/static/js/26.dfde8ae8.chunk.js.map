{"version":3,"sources":["components/Downloads/DownloadListItem.js","components/Downloads/Downloads.js"],"names":["useStyles","makeStyles","theme","inline","display","DownloadListItem","props","classes","react_default","a","createElement","Fragment","ListItem","button","alignItems","ListItemAvatar","onClick","Avatar","alt","title","src","thumbnail","ListItemText","className","primary","secondary","Typography","component","variant","concat","color","channelTitle","tags","length","map","value","index","Chip","key","label","IconButton","onMouseLeave","MoreVert","Divider","defaultProps","pure","root","width","maxWidth","backgroundColor","palette","background","paper","Downloads","_React$useState","React","useState","_React$useState2","Object","slicedToArray","HistoryItems","setHistoryItems","dialog","useDialog","abortController","AbortController","_deleteDownload","asyncToGenerator","regenerator_default","mark","_callee","data","config","wrap","_context","prev","next","message","confirm","then","deleteDownloadedSong","id","createList","catch","e","stop","apply","this","arguments","getAllDownloadedSongs","v","i","URL","createObjectURL","Downloads_DownloadListItem","_x","deleteDownload","videoID","videoElement","videoId","getSongFromStorage","snippet","thumbnails","high","url","appState","uri","blob","video","list","items","PlaySong","useEffect","abort","Container","fixed","Grow","in","List","undefined","Button","Link","to","style","position","top","left","transform","height","errorPage"],"mappings":"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","file":"static/js/26.dfde8ae8.chunk.js","sourcesContent":["import React from \"react\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport Typography from \"@material-ui/core/Typography\";\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\nimport Chip from \"@material-ui/core/Chip\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport {MoreVert} from \"@material-ui/icons\";\nimport PropTypes from \"prop-types\";\nimport {pure} from \"recompose\";\nimport Divider from \"@material-ui/core/Divider\";\n// eslint-disable-next-line no-unused-vars\nconst useStyles = makeStyles((theme) => ({\n\tinline: {\n\t\tdisplay: \"inline\",\n\t},\n}));\nconst DownloadListItem = (props) => {\n\n\tconst classes = useStyles();\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<ListItem button alignItems=\"flex-start\">\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<ListItemAvatar onClick={props.onClick}>\n\t\t\t\t\t\t<Avatar alt={props.title} src={props.thumbnail}/>\n\t\t\t\t\t</ListItemAvatar>\n\t\t\t\t\t<ListItemText\n\t\t\t\t\t\tclassName={\"text-truncate\"}\n\t\t\t\t\t\tprimary={props.title}\n\t\t\t\t\t\tonClick={props.onClick}\n\t\t\t\t\t\tsecondary={\n\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\tcomponent=\"span\"\n\t\t\t\t\t\t\t\t\tvariant=\"body2\"\n\t\t\t\t\t\t\t\t\tclassName={`${classes.inline} text-truncate`}\n\t\t\t\t\t\t\t\t\tcolor=\"textPrimary\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div className={\"text-truncate\"}>{props.channelTitle}</div>\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tprops.tags.length ? <div className={\"cardSlider Slider\"}>\n\t\t\t\t\t\t\t\t\t\t{props.tags.map((value, index) => <Chip className={\"mx-1\"} key={index}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={value}/>)}\n\t\t\t\t\t\t\t\t\t</div> : null\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</React.Fragment>\n\t\t\t\t<IconButton onClick={props.onMouseLeave}>\n\t\t\t\t\t<MoreVert/>\n\t\t\t\t</IconButton>\n\t\t\t</ListItem>\n\t\t\t<Divider variant=\"inset\" component=\"li\"/>\n\t\t</React.Fragment>\n\t);\n};\n\nDownloadListItem.propTypes = {\n\tonMouseLeave: PropTypes.func,\n\tonClick: PropTypes.func,\n\tchannelTitle: PropTypes.string,\n\ttags: PropTypes.array,\n\ttitle: PropTypes.string,\n\tthumbnail: PropTypes.string\n};\n\nDownloadListItem.defaultProps = {};\n\nexport default pure(DownloadListItem);\n","import React, {useEffect} from \"react\";\nimport \"./Downloads.css\";\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\nimport List from \"@material-ui/core/List\";\nimport {deleteDownloadedSong, getAllDownloadedSongs, getSongFromStorage} from \"../../functions/songs\";\nimport DownloadListItem from \"./DownloadListItem\";\nimport Container from \"@material-ui/core/Container\";\nimport {Avatar, Button} from \"@material-ui/core\";\nimport {useDialog} from \"muibox\";\nimport PropTypes from \"prop-types\";\nimport Grow from \"@material-ui/core/Grow\";\nimport {pure} from \"recompose\";\nimport {Link} from \"react-router-dom\";\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\twidth: \"100%\",\n\t\tmaxWidth: \"100%\",\n\t\tbackgroundColor: theme.palette.background.paper,\n\t},\n\tinline: {\n\t\tdisplay: \"inline\",\n\t},\n}));\n\n\nconst Downloads = (props) => {\n\tconst classes = useStyles();\n\tconst [HistoryItems, setHistoryItems] = React.useState(null);\n\tconst dialog = useDialog();\n\tconst abortController = new AbortController();\n\tconst errorPage = (message = \"No Internet Connection\", button = <Button component={Link}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tto={\"/search\"}>Retry</Button>) => (\n\t\t<div className={\"errorPage text-center\"}\n\t\t\t style={{position: \"absolute\", top: \"1000%\", left: \"50%\", transform: \"translate(-50%, -50%)\"}}>\n\t\t\t<img src={\"./assets/icons/darkmode_nothingfound.svg\"} style={{width: \"8rem\", height: \"auto\"}}\n\t\t\t\t alt={\"Kabeers Music Logo\"}/>\n\t\t\t<br/>\n\t\t\t<div className={\"text-truncate\"}>{message}</div>\n\t\t\t{button}\n\t\t</div>\n\t);\n\n\tfunction PlaySong(data, index) {\n\t\tlet videoID = \"\";\n\t\tif (typeof data.videoElement.id === \"object\") videoID = data.videoElement.id.videoId;\n\t\tif (typeof data.videoElement.id === \"string\") videoID = data.videoElement.id;\n\t\tgetSongFromStorage(videoID).then(value => {\n\t\t\tif (value) {\n\t\t\t\t//Avoid the Promise Error\n\t\t\t\tdata.videoElement.snippet.thumbnails.high.url = URL.createObjectURL(value.thumbnail);\n\t\t\t\t/*downloadsToPlaylist().then(playList => {\n\t\t\t\t\tprops.appState({\n\t\t\t\t\t\turi: URL.createObjectURL(value.blob),\n\t\t\t\t\t\tthumbnail: URL.createObjectURL(value.thumbnail),\n\t\t\t\t\t\tvideo: data.videoElement,\n\t\t\t\t\t\tlist: playList,\n\t\t\t\t\t\tindex: index\n\t\t\t\t\t}, false);\n\t\t\t\t})\n\t\t\t\t */\n\t\t\t\tprops.appState({\n\t\t\t\t\turi: URL.createObjectURL(value.blob),\n\t\t\t\t\tthumbnail: URL.createObjectURL(value.thumbnail),\n\t\t\t\t\tvideo: data.videoElement,\n\t\t\t\t\tlist: {items: [data.videoElement]},\n\t\t\t\t\tindex: index\n\t\t\t\t}, false);\n\t\t\t}\n\t\t});\n\t}\n\n\tasync function deleteDownload(data) {\n\t\tconst config = {\n\t\t\ttitle: (\n\t\t\t\t<div className={\"k-dialog-body-title text-truncate\"}>Delete From Downloads</div>) || \"Nothing Here!\",\n\t\t\tmessage: (<div className={\"k-dialog-body-inner\"}>\n\t\t\t\t<div className={\"d-flex justify-content-center mb-3\"}>\n\t\t\t\t\t<Avatar src={data.thumbnail} alt={\"Song Thumbnail\"}/>\n\t\t\t\t</div>\n\t\t\t\tDo You want to delete {data.title} from downloads?\n\t\t\t\t<br/>\n\t\t\t</div>) || \"Nothing Here!\",\n\t\t};\n\t\tdialog.confirm(config)\n\t\t\t.then(() => {\n\t\t\t\tdeleteDownloadedSong(data.id).then(() => {\n\t\t\t\t\tcreateList();\n\t\t\t\t\t// enqueueSnackbar('Deleted From Downloads');\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch((e) => e);\n\t}\n\n\tfunction createList() {\n\t\tgetAllDownloadedSongs().then(value => value ? setHistoryItems(() => value.map((v, i) => {\n\t\t\tconst thumbnail = URL.createObjectURL(v.thumbnail);\n\t\t\treturn <DownloadListItem onMouseLeave={\n\t\t\t\t() => deleteDownload({id: v.id, thumbnail: thumbnail, title: v.title})\n\t\t\t} onClick={() => PlaySong(v, i)} className={\"text-truncate\"} key={i} title={v.title}\n\t\t\t\t\t\t\t\t\t channelTitle={v.channelTitle}\n\t\t\t\t\t\t\t\t\t thumbnail={thumbnail} tags={v.tags}/>;\n\t\t})) : null).catch(e => setHistoryItems(null));\n\t}\n\n\tuseEffect(() => {\n\t\tcreateList();\n\t\treturn () => {\n\t\t\tabortController.abort();\n\t\t};\n\t}, []);\n\n\treturn (\n\t\t<div className={\"KabeersDownloadContainer mb-5\"} color={\"primary.dark\"}>\n\t\t\t<Container fixed>\n\t\t\t\t<Grow in={true}>\n\t\t\t\t\t<List className={`${classes.root} mt-5 bg-transparent`}>\n\t\t\t\t\t\t{HistoryItems || errorPage(\"Nothing Here\", null)}\n\t\t\t\t\t</List>\n\t\t\t\t</Grow>\n\t\t\t</Container>\n\t\t</div>\n\t);\n};\n\nDownloads.propTypes = {\n\tappState: PropTypes.object\n};\n\nDownloads.defaultProps = {};\n\nexport default pure(Downloads);\n"],"sourceRoot":""}
(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{101:function(e,t){e.exports={youtube:"AIzaSyB1msCdExGF2q9oyAjUq4bmSQq6i89VId8"}},108:function(e,t,n){"use strict";var a=n(6),r=n.n(a),o=n(16),i=n(33),c=n.n(i);function u(e){var t={};if(1==e.nodeType){if(e.attributes.length>0){t.attributes={};for(var n=0;n<e.attributes.length;n++){var a=e.attributes.item(n);t.attributes[a.nodeName]=a.nodeValue}}}else 3==e.nodeType&&(t=e.nodeValue);var r=[].slice.call(e.childNodes).filter(function(e){return 3===e.nodeType});if(e.hasChildNodes()&&e.childNodes.length===r.length)t=[].slice.call(e.childNodes).reduce(function(e,t){return e+t.nodeValue},"");else if(e.hasChildNodes())for(var o=0;o<e.childNodes.length;o++){var i=e.childNodes.item(o),c=i.nodeName;if("undefined"==typeof t[c])t[c]=u(i);else{if("undefined"==typeof t[c].push){var l=t[c];t[c]=[],t[c].push(l)}t[c].push(u(i))}}return t}var l=n(101),s=n.n(l);function p(e){return d.apply(this,arguments)}function d(){return(d=Object(o.a)(r.a.mark(function e(t){var n,a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(c.a.getSuggestionFake(t)).then(function(e){return e.text()});case 2:return n=e.sent,a=u((new DOMParser).parseFromString(n,"text/xml")),e.abrupt("return",a.toplevel?a.toplevel.CompleteSuggestion:[]);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function m(e){return f.apply(this,arguments)}function f(){return(f=Object(o.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(c.a.searchYoutubeFake(s.a.youtube,t)).then(function(e){return e.json()}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}n.d(t,"b",function(){return p}),n.d(t,"a",function(){return m})},122:function(e,t,n){},126:function(e,t,n){e.exports=n(163)},131:function(e,t,n){},134:function(e,t,n){},135:function(e,t,n){},163:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(11),i=n.n(o),c=(n(131),n(6)),u=n.n(c),l=n(16),s=n(39),p=n(24),d=(n(134),n(135),n(190)),m=function(){return r.a.createElement("div",{className:"Preloader",style:{width:"10rem",height:"10rem",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},r.a.createElement(d.a,null))};m.defaultProps={};var f=m,h=Object(a.lazy)(function(){return n.e(8).then(n.bind(null,260))}),g=function(e){return r.a.createElement(a.Suspense,{fallback:r.a.createElement(f,null)},r.a.createElement(h,e))},b=n(60),y=n(15),E=Object(a.lazy)(function(){return n.e(9).then(n.bind(null,261))}),v=function(e){return r.a.createElement(a.Suspense,{fallback:null},r.a.createElement(E,e))},w=Object(a.lazy)(function(){return n.e(6).then(n.bind(null,263))}),S=function(e){return r.a.createElement(a.Suspense,{fallback:r.a.createElement(f,null)},r.a.createElement(w,e))},x=Object(a.lazy)(function(){return Promise.all([n.e(3),n.e(7)]).then(n.bind(null,264))}),O=function(e){return r.a.createElement(a.Suspense,{fallback:r.a.createElement(f,null)},r.a.createElement(x,e))},F=n(113),j=n(103),k=Object(a.lazy)(function(){return n.e(10).then(n.bind(null,265))}),C=function(e){return r.a.createElement(a.Suspense,{fallback:r.a.createElement(f,null)},r.a.createElement(k,e))},N=Object(a.lazy)(function(){return n.e(12).then(n.bind(null,257))}),P=function(e){return r.a.createElement(a.Suspense,{fallback:r.a.createElement(f,null)},r.a.createElement(N,e))},I=Object(a.lazy)(function(){return Promise.all([n.e(5),n.e(11)]).then(n.bind(null,258))}),T=function(e){return r.a.createElement(a.Suspense,{fallback:r.a.createElement(f,null)},r.a.createElement(I,e))},D=n(37),M=n(23),R=n(27),q=n(194),A=n(78),_=n(191),L=n(192),U=n(193),z=n(195),K=n(209),V=Object(D.b)(function(e){return{componentState:e.currentSong.componentState,audioElement:e.currentSong.audioElement}})(function(e){if(!e.componentState.MiniPlayer)return r.a.createElement(r.a.Fragment,null);var t=r.a.useState(e.audioElement.currentTime),n=Object(p.a)(t,2),o=n[0],i=n[1];function c(e){return s.apply(this,arguments)}function s(){return(s=Object(l.a)(u.a.mark(function t(n){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:isFinite(n)&&(e.audioElement.currentTime=n,M.a.dispatch(Object(R.d)(e.audioElement,M.a.getState().currentSong.videoElement,M.a.getState().currentSong.componentState,M.a.getState().currentSong.reOpenDialog,M.a.getState().currentSong.playList)));case 1:case"end":return t.stop()}},t)}))).apply(this,arguments)}return Object(a.useEffect)(function(){e.componentState.MiniPlayer&&setInterval(function(){return!e.audioElement.paused&&e.componentState.MiniPlayer?i(e.audioElement.currentTime):null},1e3)},[]),r.a.createElement(K.a,{className:"p-0 m-0",defaultValue:0,value:o,min:0,color:"primary",max:e.audioElement.duration,valueLabelDisplay:"auto",onChangeCommitted:function(){var e=Object(l.a)(u.a.mark(function e(t,n){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c(n));case 1:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()})}),B=Object(D.b)(function(e){return{componentState:e.currentSong.componentState,audioElement:e.currentSong.audioElement,videoElement:e.currentSong.videoElement,reOpenDialog:e.currentSong.reOpenDialog,playList:e.currentSong.playList}})(function(e){if(e.hidden)return r.a.createElement(r.a.Fragment,null);var t=e.componentState,n=e.audioElement,o=e.videoElement,i=r.a.useState(r.a.createElement(_.a,{onClick:s},r.a.createElement(L.a,{color:"#fff"}))),c=Object(p.a)(i,2),u=c[0],l=c[1];function s(){n.pause(),l(r.a.createElement(_.a,{onClick:d},r.a.createElement(U.a,{color:"#fff"})))}function d(){n.play(),l(r.a.createElement(_.a,{onClick:s},r.a.createElement(L.a,{color:"#fff"})))}return Object(a.useEffect)(function(){}),!t.dialog&&t.MiniPlayer&&null!==n?r.a.createElement(q.a,{color:"primary.miniPlayer.main",style:{position:"fixed",top:"auto",bottom:"3.5rem",width:"100%"},component:"div",elevation:1,className:"d-inline-flex KabeersMiniPlayerContainer"},r.a.createElement("div",{className:"d-inline-flex"},r.a.createElement("div",{onClick:function(){e.reOpenDialog(),M.a.dispatch(Object(R.d)(n,o,{Dialog:!0,MiniPlayer:!1},e.reOpenDialog,e.playList)),e.componentState.Dialog&&M.a.getState().currentSong.reOpenDialog()},className:"d-inline-flex"},r.a.createElement("img",{src:o.snippet.thumbnails.high.url,style:{width:"4rem",height:"3rem",maxWidth:"5rem!important",maxHeight:"4rem!important"},alt:"Song Image",className:"KabeersMiniPlayerImage"}),r.a.createElement(A.a,{component:"span",className:"text-truncate p-2 KabeersMiniPlayerText",color:"#000",style:{width:"10em",color:"primary.miniPlayer.text"}},o.snippet.title||"Untitled")),r.a.createElement("div",{className:"float-right ml-auto"},u,r.a.createElement(_.a,{onClick:function(){n.pause(),M.a.dispatch(Object(R.d)(new Audio(""),o,{Dialog:!1,MiniPlayer:!1},e.reOpenDialog,e.playList))}},r.a.createElement(z.a,null)))),r.a.createElement(V,null)):r.a.createElement(r.a.Fragment,null)}),G=(n(122),n(198)),H=n(199),J=n(200),X=n(201),W=n(206),Y=n(108),Q=n(207),$=n(196),Z=n(197),ee=n(88),te=n.n(ee),ne=n(208),ae=n(90),re=te()(function(e){return{root:{marginTop:"1rem",padding:"2px 4px",display:"flex",alignItems:"center",width:"100%"},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},divider:{height:28,margin:4}}}),oe=function(e){var t=Object(y.f)(),n=r.a.useState(!0),o=Object(p.a)(n,2),i=o[0],c=o[1],u=r.a.useState([]),l=Object(p.a)(u,2),s=(l[0],l[1],r.a.useState(r.a.createElement(r.a.Fragment,null))),d=Object(p.a)(s,2),m=d[0],f=d[1],h=re();return Object(a.useEffect)(function(){if(!e.query)return t.push("/search");Object(Y.a)(e.query).then(function(t){t&&f(function(){return t.items.map(function(n,a){if(n)return r.a.createElement(Q.a,{button:!0,key:a,onClick:function(){return r=n,o={list:t,index:a},void Object(ae.d)(r.id.videoId).then(function(t){t&&setTimeout(function(){e.appState({uri:t,thumbnail:r.snippet.thumbnails.high.url,video:r,list:o.list,index:o.index})},100)});var r,o}},r.a.createElement($.a,null,r.a.createElement(ne.a,{alt:n.snippet.title,src:n.snippet.thumbnails.default.url})),r.a.createElement(Z.a,{primary:"".concat(decodeURIComponent(n.snippet.title)),secondary:"".concat(n.snippet.channelTitle)}))})})})},[]),r.a.createElement("div",{className:"SearchResultComponent"},r.a.createElement(G.a,{fullScreen:!0,open:i,onClose:function(){}},r.a.createElement(q.a,{className:"fixed-top"},r.a.createElement(H.a,{component:b.b,to:"/search"},window.history?r.a.createElement(_.a,{onClick:function(){c(!1)},component:b.b,to:"/home",color:"primary.light",visibility:!1},r.a.createElement(J.a,null)):r.a.createElement(r.a.Fragment,null),r.a.createElement(W.a,{autoCapitalize:!0,autoComplete:!0,value:e.query,className:"".concat(h.input," text-light"),placeholder:"Search Kabeers Music",inputProps:{"aria-label":"Search Kabeers Music"}}),r.a.createElement(X.a,{visibility:!1}))),r.a.createElement("div",{className:"container px-3",style:{marginTop:"4rem"}},r.a.createElement("div",{className:"row"},m))))};oe.defaultProps={};var ie=Object(D.b)(function(e){return{query:e.q}})(oe),ce=Object(a.lazy)(function(){return n.e(4).then(n.bind(null,267))}),ue=function(e){return r.a.createElement(a.Suspense,{fallback:r.a.createElement(d.a,null)},r.a.createElement(ce,e))},le=n(107),se=n(205);var pe=function(){var e=new Audio(""),t=r.a.useState(!1),n=Object(p.a)(t,2),o=n[0],i=(n[1],r.a.useState(!0)),c=Object(p.a)(i,2),d=c[0],m=c[1],f={primary:{contrastText:o?"#757575":"#FFFFFF",main:"#68C398",light:o?"#757575":"#FFFFFF",dark:o?"#303030":"#FFFFFF",miniPlayer:{main:o?"#303030":"#FEFEFE",borderTop:o?"#507262":"#3C3F41",text:o?"#FFFFFF":"#2B2B2B"},player:{slider:{rail:"#FFF",thumb:"#FFF",thumbColorPrimary:"#FFF"},invertButtons:{main:"#68C398",invert:"#FFFFFF"}}},secondary:{main:"#68C398",light:o?"#757575":"#FFFFFF",dark:o?"#303030":"#FFFFFF"},background:{}},h=Object(F.a)({palette:Object(s.a)({type:"light"},f,{slider:{trackColor:"yellow",selectionColor:"red"}})});function E(e){return w.apply(this,arguments)}function w(){return(w=Object(l.a)(u.a.mark(function t(n){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:try{e.pause(),e.src="",n.list&&n.index&&n.thumbnail&&n.video&&n.uri?n.hidden=!1:n.hidden=!0,e.src=n.uri,console.log(n.uri),M.a.dispatch(Object(R.d)(e,n.video,{Dialog:!0,MiniPlayer:!1},function(){},{list:n.list,index:n.index})),m(!0),m(!1)}catch(a){console.log(a)}case 1:case"end":return t.stop()}},t)}))).apply(this,arguments)}return Object(a.useEffect)(function(){},[]),r.a.createElement(D.a,{store:M.a},r.a.createElement(j.a,{theme:h},r.a.createElement(b.a,null,r.a.createElement(le.a,{maxSnack:1},r.a.createElement(se.a,null),r.a.createElement("div",{className:"App"},r.a.createElement(T,null,r.a.createElement("audio",{id:"MainAudio",src:"",preload:"auto"}),r.a.createElement(C,null),r.a.createElement(O,{hidden:d,changes:E}),r.a.createElement(y.b,{exact:!0,path:"/home",render:function(){return r.a.createElement(g,{appState:E})}}),r.a.createElement(y.b,{exact:!0,path:"/downloads",render:function(){return r.a.createElement(S,{appState:E})}}),r.a.createElement(y.b,{exact:!0,path:"/search",component:P}),r.a.createElement(y.b,{exact:!0,path:"/history",component:ue}),r.a.createElement(y.b,{exact:!0,path:"*",render:function(){return r.a.createElement(y.a,{to:"/home"})}}),r.a.createElement(y.b,{exact:!0,path:"/search/results",render:function(){return r.a.createElement(ie,{appState:E})}}),r.a.createElement(v,null),r.a.createElement(B,{hidden:d})))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(pe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()}).catch(function(e){console.error(e.message)})},23:function(e,t,n){"use strict";var a=n(51),r=n(39),o=n(27),i={currentSong:{audioElement:new Audio(""),videoElement:{},playList:{index:0,list:[]},reOpenDialog:function(){}},drawer:!1,q:""};var c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.a:return{currentSong:e.currentSong,drawer:t.drawer};case o.b:return{currentSong:t.currentSong,drawer:e.drawer};case o.c:return Object(r.a)({},e,{q:t.q});default:return e}},u=n(110),l=n(111),s=n(112),p=function(){function e(){Object(l.a)(this,e)}return Object(s.a)(e,[{key:"loadState",value:function(){try{var e=localStorage.getItem("KabeersMusic:state");return null===e?this.initializeState():JSON.parse(e)}catch(t){return this.initializeState()}}},{key:"saveState",value:function(e){try{var t=JSON.stringify(e);localStorage.setItem("KabeersMusic:state",t)}catch(n){}}},{key:"initializeState",value:function(){return{currentSong:{audioElement:new Audio(""),videoElement:{},playList:{index:0,list:[]},reOpenDialog:function(){}},drawer:!1,q:""}}}]),e}(),d={currentSong:{audioElement:new Audio(""),videoElement:{},playList:{index:0,list:[]},reOpenDialog:function(){}},drawer:!1,q:""},m=(new p,[u.a]),f=Object(a.d)(c,d,Object(a.c)(a.a.apply(void 0,m),window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e}));t.a=f},27:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return i}),n.d(t,"e",function(){return c}),n.d(t,"d",function(){return u}),n.d(t,"f",function(){return l});var a=n(39),r="CHANGE_DRAWER",o="CURRENT_SONG",i="SEARCH_QUERY_PARAM";function c(e){return{type:r,drawer:e}}function u(e,t,n,r,i){return{type:o,currentSong:{audioElement:e,videoElement:t,componentState:n,reOpenDialog:r,playList:Object(a.a)({},i)}}}function l(e){return{type:i,q:e}}},33:function(e,t){var n="".concat(window.location.protocol,"//").concat(window.location.host),a={mostPopular:function(e){return"https://www.googleapis.com/youtube/v3/videos?part=snippet&videoCategoryId=10&type=video&key=".concat(e,"&chart=mostPopular")},mostPopularFake:function(e){return"https://cdn.jsdelivr.net/gh/kabeer11000/sample-response/yt-api/yt.json"},getVideo:function(e,t){return"https://www.googleapis.com/youtube/v3/videos?part=snippet&id=".concat(t,"&key=").concat(e)},getVideoFake:function(e,t){return"https://cdn.jsdelivr.net/gh/kabeer11000/sample-response@master/yt-api/video-.json"},getProxyfiedURI:function(e){return"".concat(n,"/api/song?id=").concat(e)},getSuggestion:function(e){return"https://suggestqueries.google.com/complete/search?"},getSuggestionFake:function(e){return"https://cors-anywhere.herokuapp.com/http://clients1.google.com/complete/search?hl=en&output=toolbar&q=".concat(e)},searchYoutube:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15;return"https://www.googleapis.com/youtube/v3/search?part=snippet&videoCategoryId=10&type=video&key=".concat(e,"&q=").concat(t,"&maxResults=").concat(n)},searchYoutubeFake:function(e,t){return"https://cdn.jsdelivr.net/gh/kabeer11000/sample-response/yt-api/search-result.json"},proxyURI:function(e){return"".concat(n,"/proxy/").concat(e)}};e.exports=a},90:function(e,t,n){"use strict";var a=n(6),r=n.n(a),o=n(24),i=n(16),c=n(9),u=(n(140),n(33)),l=n.n(u);function s(e){var t=e;return new Promise(function(e,n){var a=new XMLHttpRequest;a.open("GET",l.a.proxyURI(t)),a.responseType="blob",a.onload=function(){var t=a.status;t>=200&&t<300?e(a.response):n({status:t,statusText:a.statusText})},a.send(),setTimeout(function(){a.abort(),a.open("GET",l.a.proxyURI(t)),a.send()},1e3)})}n.d(t,"a",function(){return f}),n.d(t,"d",function(){return g}),n.d(t,"e",function(){return y}),n.d(t,"b",function(){return v}),n.d(t,"f",function(){return S}),n.d(t,"g",function(){return O}),n.d(t,"c",function(){return j});function p(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(Date.now()/1e3).toString(16).split(".").join("");n.length<14;)n+="0";var a="";return t&&(a=".",a+=Math.round(1e8*Math.random())),e+n+a}var d=new c.a("KabeersMusic_Songs");d.version(10).stores({songs:"id, &videoId, valid, time, rating, blob, state, thumbnail"});var m=new c.a("KabeersMusic_History");function f(){return h.apply(this,arguments)}function h(){return(h=Object(i.a)(r.a.mark(function e(){var t,n,a,i,c,u,p,m=arguments;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=m.length>0&&void 0!==m[0]?m[0]:{videoId:null,rating:0,title:"",channelTitle:"",tags:""},e.prev=1,console.log("Download Started"),n="https://i.ytimg.com/vi/".concat(t.videoId,"/hqdefault.jpg"),e.next=6,fetch(l.a.getProxyfiedURI(t.videoId)).then(function(e){return e.json()});case 6:return a=e.sent,e.next=9,Promise.all([s(n),s(a)]);case 9:return i=e.sent,c=Object(o.a)(i,2),u=c[0],p=c[1],d.songs.put({id:t.videoId,state:"downloaded",thumbnail:u,blob:p,valid:!0,time:Date.now(),videoId:t.videoId,rating:t.rating,tags:t.tags||[],title:t.title,channelTitle:t.channelTitle,videoElement:t.videoElement}).then(function(e){console.log(e)}),e.abrupt("return",!0);case 17:return e.prev=17,e.t0=e.catch(1),e.abrupt("return",e.t0);case 20:case"end":return e.stop()}},e,null,[[1,17]])}))).apply(this,arguments)}function g(e){return b.apply(this,arguments)}function b(){return(b=Object(i.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(l.a.getProxyfiedURI(t)).then(function(e){return e.json()}).catch(function(e){return e}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function y(e){return E.apply(this,arguments)}function E(){return(E=Object(i.a)(r.a.mark(function e(t){var n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.songs.toArray();case 2:if(!(n=e.sent).some(function(e){return e.id===t})){e.next=7;break}return e.abrupt("return",n.find(function(e){return e.videoId===t}));case 7:return e.abrupt("return",fetch(l.a.getProxyfiedURI(t)).then(function(e){return e.json()}).catch(function(e){return e}));case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function v(){return w.apply(this,arguments)}function w(){return(w=Object(i.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",d.songs.toArray());case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function S(e){return x.apply(this,arguments)}function x(){return(x=Object(i.a)(r.a.mark(function e(t){var n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.songs.toArray();case 2:return n=e.sent,e.abrupt("return",n&&n.some(function(e){return e.id===t}));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function O(e){return F.apply(this,arguments)}function F(){return(F=Object(i.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:m.songs.put({id:p()+p(),title:t.title,channelTitle:t.ChannelTitle,tags:t.tags,thumbnail:t.thumbnail,time:Date.now(),rating:t.rating}).then(function(e){console.log(e)});case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function j(){return k.apply(this,arguments)}function k(){return(k=Object(i.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m.songs.toArray());case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}m.version(10).stores({songs:"id, time, rating, thumbnail, channelTitle, title, tags"}),console.log("%20 SongJS Loaded")}},[[126,1,2]]]);
//# sourceMappingURL=main.5e219f2c.chunk.js.map
(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{232:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var a=n(1),r=n(0),o=n.n(r),i=n(44);function c(e,t){var n=o.a.memo(o.a.forwardRef(function(t,n){return o.a.createElement(i.a,Object(a.a)({ref:n},t),e)}));return n.muiName=i.a.muiName,n}},234:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var a=n(69),r=n.n(a),o=n(87),i=n(86),c=n.n(i),s=n(236),l={getCookie:function(e){for(var t=e+"=",n=decodeURIComponent(document.cookie).split(";"),a=0;a<n.length;a++){for(var r=n[a];" "===r.charAt(0);)r=r.substring(1);if(0===r.indexOf(t))return r.substring(t.length,r.length)}return""},setCookie:function(e,t,n){var a=new Date;a.setTime(a.getTime()+24*n*60*60*1e3);var r="expires="+a.toUTCString();document.cookie=e+"="+t+";"+r+";path=/"}};function u(){return d.apply(this,arguments)}function d(){return(d=Object(o.a)(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l.getCookie("token")){e.next=3;break}return e.abrupt("return",window.location.href=c.a.authRedirect);case 3:if(t=JSON.parse(t),!(Math.floor((Date.now()-t.exp)/1e3/60)>30)){e.next=8;break}return e.next=7,Object(s.a)(c.a.refreshToken,{},5e3).then(function(e){return e.ok?e.json():null});case 7:return e.abrupt("return",e.sent);case 8:return e.abrupt("return",t.token);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}},236:function(e,t,n){"use strict";var a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return new Promise(function(a,r){var o=1;return function e(n,i){return fetch(n,t).then(a).catch(function(t){1===i?r(t):setTimeout(function(){o++,e(n,i-1)},3e3*o)})}(e,n)})};t.a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:7e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;return Promise.race([a(e,t,r),new Promise(function(e,t){return setTimeout(function(){return t(new Error("timeout"))},n)})])}},241:function(e,t,n){"use strict";var a=n(69),r=n.n(a),o=n(49),i=n(87),c=n(252),s=n(86),l=n.n(s),u=n(234);function d(e){var t=e;return new Promise(function(e,n){return Object(u.a)().then(function(a){var r=new XMLHttpRequest;r.open("GET",l.a.proxyURI(t)),r.responseType="blob",r.setRequestHeader("Authorization","Bearer ".concat(a)),r.onload=function(){var t=r.status;t>=200&&t<300?e(r.response):n({status:t,statusText:r.statusText})},r.send(),setTimeout(function(){r.abort(),r.open("GET",l.a.proxyURI(t)),r.send()},1e3)})})}var p=n(236),f=n(261);n(253);n.d(t,"c",function(){return g}),n.d(t,"b",function(){return j}),n.d(t,"f",function(){return x}),n.d(t,"g",function(){return k}),n.d(t,"d",function(){return C}),n.d(t,"a",function(){return I}),n.d(t,"h",function(){return L}),n.d(t,"i",function(){return z}),n.d(t,"e",function(){return M});var m=10;function h(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(Date.now()/1e3).toString(16).split(".").join("");n.length<14;)n+="0";var a="";return t&&(a=".",a+=Math.round(1e8*Math.random())),e+n+a}var b=new c.a("KabeersMusic_Songs");b.version(m).stores({songs:"id, &videoId, valid, time, rating, blob, state, thumbnail"});var v=new c.a("KabeersMusic_History");function g(){return y.apply(this,arguments)}function y(){return(y=Object(i.a)(r.a.mark(function e(){var t,n=arguments;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=n.length>0&&void 0!==n[0]?n[0]:{videoId:null,rating:0,title:"",channelTitle:"",tags:"",success:function(){},error:function(){}},e.prev=1,Object(u.a)().then(function(){var e=Object(i.a)(r.a.mark(function e(n){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Download Started"),a="https://i.ytimg.com/vi/".concat(t.videoId,"/hqdefault.jpg"),Object(p.a)(l.a.getProxyfiedURI(t.videoId),{headers:new Headers({Authorization:"Bearer ".concat(n)})}).then(function(e){return e.json()}).then(function(){var e=Object(i.a)(r.a.mark(function e(n){var i,c,s,l;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([d(a),d(n)]);case 2:i=e.sent,c=Object(o.a)(i,2),s=c[0],l=c[1],b.songs.put({id:t.videoId,state:"downloaded",thumbnail:s,blob:l,valid:!0,time:Date.now(),videoId:t.videoId,rating:t.rating,tags:t.tags||[],title:t.title,channelTitle:t.channelTitle,videoElement:t.videoElement}).then(function(e){t.success()}).catch(function(e){t.error()});case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(1),e.abrupt("return",e.t0);case 8:case"end":return e.stop()}},e,null,[[1,5]])}))).apply(this,arguments)}function j(e){return w.apply(this,arguments)}function w(){return(w=Object(i.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.songs.delete(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function x(e){return O.apply(this,arguments)}function O(){return(O=Object(i.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(u.a)().then(function(e){return navigator.onLine?Object(p.a)(l.a.getProxyfiedURI(t),{headers:new Headers({Authorization:"Bearer ".concat(e)})},1e4).then(function(e){return e.ok?e.json():null}).catch(function(e){return e}):new Error("No Connection")}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function k(e){return E.apply(this,arguments)}function E(){return(E=Object(i.a)(r.a.mark(function e(t){var n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.songs.toArray();case 2:if(!(n=e.sent).some(function(e){return e.id===t})){e.next=5;break}return e.abrupt("return",n.find(function(e){return e.videoId===t}));case 5:return e.abrupt("return",Object(u.a)().then(function(e){Object(p.a)(l.a.getProxyfiedURI(t),{headers:new Headers({Authorization:"Bearer ".concat(e)})}).then(function(e){return e.ok?e.json():null})}));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function C(){return N.apply(this,arguments)}function N(){return(N=Object(i.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b.songs.toArray());case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}v.version(m).stores({songs:"id, time, rating, thumbnail, channelTitle, title, tags"});var T={},R={isCaseSensitive:!1,shouldSort:!1,threshold:.6,ignoreLocation:!0,useExtendedSearch:!0,findAllMatches:!0,keys:["title","channelTitle",{name:"title",weight:1.5},{name:"channelTitle",weight:1}]};function I(e){return S.apply(this,arguments)}function S(){return(S=Object(i.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",T.fuse.search(t));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function L(e){return P.apply(this,arguments)}function P(){return(P=Object(i.a)(r.a.mark(function e(t){var n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.songs.toArray();case 2:return n=e.sent,e.abrupt("return",n&&n.some(function(e){return e.id===t}));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function z(e){return A.apply(this,arguments)}function A(){return(A=Object(i.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:v.songs.put({id:h()+h(),title:t.title,channelTitle:t.ChannelTitle,tags:t.tags,thumbnail:t.thumbnail,time:Date.now(),rating:t.rating}).then(function(e){console.log(e)});case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function M(){return D.apply(this,arguments)}function D(){return(D=Object(i.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v.songs.toArray()||[]);case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}b.songs.toArray().then(function(e){T.fuse=new f.a(e,R)}),console.log("%20 SongJS Loaded")},254:function(e,t,n){"use strict";var a=n(1),r=n(2),o=n(0),i=(n(5),n(3)),c=n(4),s=n(156),l=n(50),u=n(7),d=n(90),p=n(9),f="undefined"===typeof window?o.useEffect:o.useLayoutEffect,m=o.forwardRef(function(e,t){var n=e.alignItems,c=void 0===n?"center":n,m=e.autoFocus,h=void 0!==m&&m,b=e.button,v=void 0!==b&&b,g=e.children,y=e.classes,j=e.className,w=e.component,x=e.ContainerComponent,O=void 0===x?"li":x,k=e.ContainerProps,E=(k=void 0===k?{}:k).className,C=Object(r.a)(k,["className"]),N=e.dense,T=void 0!==N&&N,R=e.disabled,I=void 0!==R&&R,S=e.disableGutters,L=void 0!==S&&S,P=e.divider,z=void 0!==P&&P,A=e.focusVisibleClassName,M=e.selected,D=void 0!==M&&M,U=Object(r.a)(e,["alignItems","autoFocus","button","children","classes","className","component","ContainerComponent","ContainerProps","dense","disabled","disableGutters","divider","focusVisibleClassName","selected"]),B=o.useContext(d.a),F={dense:T||B.dense||!1,alignItems:c},H=o.useRef(null);f(function(){h&&H.current&&H.current.focus()},[h]);var V=o.Children.toArray(g),$=V.length&&Object(l.a)(V[V.length-1],["ListItemSecondaryAction"]),G=o.useCallback(function(e){H.current=p.findDOMNode(e)},[]),J=Object(u.a)(G,t),W=Object(a.a)({className:Object(i.a)(y.root,j,F.dense&&y.dense,!L&&y.gutters,z&&y.divider,I&&y.disabled,v&&y.button,"center"!==c&&y.alignItemsFlexStart,$&&y.secondaryAction,D&&y.selected),disabled:I},U),q=w||"li";return v&&(W.component=w||"div",W.focusVisibleClassName=Object(i.a)(y.focusVisible,A),q=s.a),$?(q=W.component||w?q:"div","li"===O&&("li"===q?q="div":"li"===W.component&&(W.component="div")),o.createElement(d.a.Provider,{value:F},o.createElement(O,Object(a.a)({className:Object(i.a)(y.container,E),ref:J},C),o.createElement(q,W,V),V.pop()))):o.createElement(d.a.Provider,{value:F},o.createElement(q,Object(a.a)({ref:J},W),V))});t.a=Object(c.a)(function(e){return{root:{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,"&$focusVisible":{backgroundColor:e.palette.action.selected},"&$selected, &$selected:hover":{backgroundColor:e.palette.action.selected},"&$disabled":{opacity:.5}},container:{position:"relative"},focusVisible:{},dense:{paddingTop:4,paddingBottom:4},alignItemsFlexStart:{alignItems:"flex-start"},disabled:{},divider:{borderBottom:"1px solid ".concat(e.palette.divider),backgroundClip:"padding-box"},gutters:{paddingLeft:16,paddingRight:16},button:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},secondaryAction:{paddingRight:48},selected:{}}},{name:"MuiListItem"})(m)},255:function(e,t,n){"use strict";var a=n(1),r=n(2),o=n(0),i=(n(5),n(3)),c=n(4),s=n(221),l=n(90),u=o.forwardRef(function(e,t){var n=e.children,c=e.classes,u=e.className,d=e.disableTypography,p=void 0!==d&&d,f=e.inset,m=void 0!==f&&f,h=e.primary,b=e.primaryTypographyProps,v=e.secondary,g=e.secondaryTypographyProps,y=Object(r.a)(e,["children","classes","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"]),j=o.useContext(l.a).dense,w=null!=h?h:n;null==w||w.type===s.a||p||(w=o.createElement(s.a,Object(a.a)({variant:j?"body2":"body1",className:c.primary,component:"span",display:"block"},b),w));var x=v;return null==x||x.type===s.a||p||(x=o.createElement(s.a,Object(a.a)({variant:"body2",className:c.secondary,color:"textSecondary",display:"block"},g),x)),o.createElement("div",Object(a.a)({className:Object(i.a)(c.root,u,j&&c.dense,m&&c.inset,w&&x&&c.multiline),ref:t},y),w,x)});t.a=Object(c.a)({root:{flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},multiline:{marginTop:6,marginBottom:6},dense:{},inset:{paddingLeft:56},primary:{},secondary:{}},{name:"MuiListItemText"})(u)},274:function(e,t,n){"use strict";var a=n(1),r=n(2),o=n(0),i=(n(5),n(3)),c=n(4),s=n(18),l=n(156),u=n(6),d=o.forwardRef(function(e,t){var n=e.edge,c=void 0!==n&&n,s=e.children,d=e.classes,p=e.className,f=e.color,m=void 0===f?"default":f,h=e.disabled,b=void 0!==h&&h,v=e.disableFocusRipple,g=void 0!==v&&v,y=e.size,j=void 0===y?"medium":y,w=Object(r.a)(e,["edge","children","classes","className","color","disabled","disableFocusRipple","size"]);return o.createElement(l.a,Object(a.a)({className:Object(i.a)(d.root,p,"default"!==m&&d["color".concat(Object(u.a)(m))],b&&d.disabled,"small"===j&&d["size".concat(Object(u.a)(j))],{start:d.edgeStart,end:d.edgeEnd}[c]),centerRipple:!0,focusRipple:!g,disabled:b,ref:t},w),o.createElement("span",{className:d.label},s))});t.a=Object(c.a)(function(e){return{root:{textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:12,borderRadius:"50%",overflow:"visible",color:e.palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{backgroundColor:Object(s.d)(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{backgroundColor:"transparent",color:e.palette.action.disabled}},edgeStart:{marginLeft:-12,"$sizeSmall&":{marginLeft:-3}},edgeEnd:{marginRight:-12,"$sizeSmall&":{marginRight:-3}},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(s.d)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},colorSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(s.d)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},disabled:{},sizeSmall:{padding:3,fontSize:e.typography.pxToRem(18)},label:{width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit"}}},{name:"MuiIconButton"})(d)},275:function(e,t,n){"use strict";var a=n(1),r=n(2),o=n(0),i=(n(5),n(3)),c=n(4),s=n(18),l=o.forwardRef(function(e,t){var n=e.absolute,c=void 0!==n&&n,s=e.classes,l=e.className,u=e.component,d=void 0===u?"hr":u,p=e.flexItem,f=void 0!==p&&p,m=e.light,h=void 0!==m&&m,b=e.orientation,v=void 0===b?"horizontal":b,g=e.role,y=void 0===g?"hr"!==d?"separator":void 0:g,j=e.variant,w=void 0===j?"fullWidth":j,x=Object(r.a)(e,["absolute","classes","className","component","flexItem","light","orientation","role","variant"]);return o.createElement(d,Object(a.a)({className:Object(i.a)(s.root,l,"fullWidth"!==w&&s[w],c&&s.absolute,f&&s.flexItem,h&&s.light,"vertical"===v&&s.vertical),role:y,ref:t},x))});t.a=Object(c.a)(function(e){return{root:{height:1,margin:0,border:"none",flexShrink:0,backgroundColor:e.palette.divider},absolute:{position:"absolute",bottom:0,left:0,width:"100%"},inset:{marginLeft:72},light:{backgroundColor:Object(s.d)(e.palette.divider,.08)},middle:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},vertical:{height:"100%",width:1},flexItem:{alignSelf:"stretch",height:"auto"}}},{name:"MuiDivider"})(l)},357:function(e,t,n){},396:function(e,t,n){"use strict";n.r(t);var a=n(69),r=n.n(a),o=n(87),i=n(49),c=n(0),s=n.n(c),l=(n(357),n(243)),u=n.n(l),d=n(155),p=n(275),f=n(241),m=n(254),h=n(273),b=n(295),v=n(255),g=n(221),y=n(329),j=n(274),w=n(232),x=Object(w.a)(s.a.createElement("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert"),O=u()(function(e){return{inline:{display:"inline"}}}),k=function(e){var t=O();return s.a.createElement(m.a,{alignItems:"flex-start"},s.a.createElement(s.a.Fragment,{onClick:e.onClick},s.a.createElement(h.a,{onClick:e.onClick},s.a.createElement(b.a,{alt:e.title,src:e.thumbnail})),s.a.createElement(v.a,{className:"text-truncate",primary:e.title,onClick:e.onClick,secondary:s.a.createElement(s.a.Fragment,null,s.a.createElement(g.a,{component:"span",variant:"body2",className:"".concat(t.inline," text-truncate"),color:"textPrimary"},s.a.createElement("div",{className:"text-truncate"},e.channelTitle)),s.a.createElement("div",{className:"cardSlider Slider"},e.tags.map(function(e,t){return s.a.createElement(y.a,{className:"mx-1",key:t,label:e})})))})),s.a.createElement(j.a,{onClick:e.onMouseLeave},s.a.createElement(x,null)))};k.defaultProps={};var E=k,C=n(296),N=n(109),T=u()(function(e){return{root:{width:"100%",maxWidth:"100%",backgroundColor:e.palette.background.paper},inline:{display:"inline"}}}),R=function(e){var t=T(),n=s.a.useState(s.a.createElement(s.a.Fragment,null)),a=Object(i.a)(n,2),l=a[0],u=a[1],m=Object(N.useDialog)();function h(){return(h=Object(o.a)(r.a.mark(function e(t){var n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n={title:s.a.createElement("div",{className:"k-dialog-body-title text-truncate"},"Delete From Downloads")||"Nothing Here!",message:s.a.createElement("div",{className:"k-dialog-body-inner"},s.a.createElement("div",{className:"d-flex justify-content-center mb-3"},s.a.createElement(b.a,{src:t.thumbnail,alt:"Song Thumbnail"})),"Do You want to delete ",t.title," from downloads?",s.a.createElement("br",null))||"Nothing Here!"},m.confirm(n).then(function(){Object(f.b)(t.id).then(function(){v()})}).catch(function(){});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function v(){Object(f.d)().then(function(t){u(function(){var n=t.map(function(t,n){var a=URL.createObjectURL(t.thumbnail);return s.a.createElement(E,{onMouseLeave:function(){!function(e){h.apply(this,arguments)}({id:t.id,thumbnail:a,title:t.title})},onClick:function(){!function(t,n){var a="";"object"===typeof t.videoElement.id&&(a=t.videoElement.id.videoId),"string"===typeof t.videoElement.id&&(a=t.videoElement.id),Object(f.g)(a).then(function(a){a&&(t.videoElement.snippet.thumbnails.high.url=URL.createObjectURL(a.thumbnail),e.appState({uri:URL.createObjectURL(a.blob),thumbnail:URL.createObjectURL(a.thumbnail),video:t.videoElement,list:{items:[t.videoElement]},index:n}))})}(t,n)},className:"text-truncate",key:n,title:t.title,channelTitle:t.channelTitle,thumbnail:a,tags:t.tags})}),a=[];return n.forEach(function(e,t){a.push(e),void 0!==n[t+1]&&a.push(s.a.createElement(p.a,{key:t,variant:"inset",component:"li"}))}),a})})}return Object(c.useEffect)(function(){v()},[]),s.a.createElement("div",{className:"KabeersDownloadContainer mb-5",color:"primary.dark"},s.a.createElement(C.a,{fixed:!0},s.a.createElement(d.a,{className:"".concat(t.root," mt-5 bg-transparent")},l)))};R.defaultProps={};t.default=R}}]);
//# sourceMappingURL=13.00950063.chunk.js.map
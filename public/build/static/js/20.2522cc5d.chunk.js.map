{"version":3,"sources":["../node_modules/@material-ui/icons/esm/SearchOutlined.js","components/SearchComponent/SearchComponent.js"],"names":["SearchOutlined","Object","createSvgIcon","react_default","a","createElement","d","Transition","React","forwardRef","props","ref","Slide","assign","direction","useStyles","makeStyles","theme","root","marginTop","padding","display","alignItems","width","input","marginLeft","spacing","flex","iconButton","divider","height","margin","SearchComponent","history","useHistory","_React$useState","useState","_React$useState2","slicedToArray","open","setOpen","_React$useState3","_React$useState4","queryArray","setQueryArray","abortController","AbortController","_React$useState5","className","style","position","top","left","transform","src","alt","navigator","onLine","_React$useState6","listItems","setListItems","classes","Search","_ref","asyncToGenerator","regenerator_default","mark","_callee","e","wrap","_context","prev","next","key","abrupt","store","getState","q","push","SuggestSearch","target","value","then","v","SuggestOfflineSongs","t","map","suggestion","attributes","data","item","title","index","ListItem","button","onClick","dispatch","setQueryParams","component","Link","to","ListItemIcon","ListItemText","primary","concat","pathname","search","URLSearchParams","toString","stop","_x","apply","this","arguments","useEffect","abort","Dialog","fullScreen","onClose","TransitionComponent","AppBar","Toolbar","window","IconButton","color","visibility","ArrowBack","Fragment","InputBase","autoCapitalize","autoComplete","autoFocus","onKeyUp","onFocus","onBlur","placeholder","inputProps","aria-label","Preloader","defaultProps","connect","state","query","pure"],"mappings":"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","file":"static/js/20.2522cc5d.chunk.js","sourcesContent":["import React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon(React.createElement(\"path\", {\n  d: \"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"\n}), 'SearchOutlined');","import React, {useEffect} from \"react\";\rimport \"./SearchComponent.css\";\rimport Dialog from \"@material-ui/core/Dialog\";\rimport AppBar from \"@material-ui/core/AppBar\";\rimport Toolbar from \"@material-ui/core/Toolbar\";\rimport IconButton from \"@material-ui/core/IconButton\";\rimport {ArrowBack, SearchOutlined} from \"@material-ui/icons\";\rimport InputBase from \"@material-ui/core/InputBase\";\rimport {SuggestSearch} from \"../../functions/suggestSearch\";\rimport ListItem from \"@material-ui/core/ListItem\";\rimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\rimport ListItemText from \"@material-ui/core/ListItemText\";\rimport makeStyles from \"@material-ui/core/styles/makeStyles\";\rimport {Link, useHistory} from \"react-router-dom\";\rimport store from \"../../Redux/store/store\";\rimport {connect} from \"react-redux\";\rimport {setQueryParams} from \"../../Redux/actions/actions\";\rimport {SuggestOfflineSongs} from \"../../functions/songs\";\rimport Preloader from \"../Preloader/Preloader\";\rimport {Slide} from \"@material-ui/core\";\rimport {pure} from \"recompose\";\r\rconst Transition = React.forwardRef(function Transition(props, ref) {\r\treturn <Slide direction=\"left\" ref={ref} {...props} />;\r});\r\rconst useStyles = makeStyles((theme) => ({\r\troot: {\r\t\tmarginTop: \"1rem\",\r\t\tpadding: \"2px 4px\",\r\t\tdisplay: \"flex\",\r\t\talignItems: \"center\",\r\t\twidth: \"100%\",\r\t},\r\tinput: {\r\t\tmarginLeft: theme.spacing(1),\r\t\tflex: 1,\r\t},\r\ticonButton: {\r\t\tpadding: 10,\r\t},\r\tdivider: {\r\t\theight: 28,\r\t\tmargin: 4,\r\t},\r}));\r\rconst SearchComponent = (props) => {\r\tlet history = useHistory();\r\tconst [open, setOpen] = React.useState(true);\r\tconst [queryArray, setQueryArray] = React.useState([]);\r\tconst abortController = new AbortController();\r\tconst [listItems, setListItems] = React.useState(\r\t\t<div className={\"errorPage text-center\"}\r\t\t\t style={{\r\t\t\t\t position: \"absolute\",\r\t\t\t\t top: \"50%\",\r\t\t\t\t left: \"50%\",\r\t\t\t\t transform: \"translate(-50%, -50%)\"\r\t\t\t }}>\r\t\t\t<img src={\"./assets/icons/darkmode_nothingfound.svg\"} style={{width: \"8rem\", height: \"auto\"}}\r\t\t\t\t alt={\"Kabeers Music Logo\"}/>\r\t\t\t<br/>\r\t\t\t<div>{navigator.onLine ? \"Results will appear as you type\" : \"Searching In Downloads\"}</div>\r\t\t</div>);\r\tconst classes = useStyles();\r\tconst ListItems = () => {\r\t\tif (!queryArray) return;\r\t\tsetListItems(() => queryArray.map((value, index) => {\r\t\t\tif (!value) return;\r\t\t\treturn (\r\t\t\t\t<ListItem button key={index} onClick={() => {\r\t\t\t\t\tstore.dispatch(setQueryParams(value.suggestion.attributes.data));\r\t\t\t\t}} component={Link} to={\"/search/results\"}>\r\t\t\t\t\t<ListItemIcon>\r\t\t\t\t\t\t<SearchOutlined/>\r\t\t\t\t\t</ListItemIcon>\r\t\t\t\t\t<ListItemText primary={`${value.suggestion.attributes.data}`}/>\r\t\t\t\t</ListItem>\r\t\t\t);\r\t\t}));\r\t};\r\r\tconst Search = async (e) => {\r\t\tif (e.key === \"Enter\") return store.getState().q ? history.push(\"/search/results\") : null;\r\t\tif (navigator.onLine) SuggestSearch(e.target.value, abortController).then(v => setQueryArray(v));\r\t\telse SuggestOfflineSongs(e.target.value).then(t => setQueryArray(t.map(t => ({suggestion: {attributes: {data: t.item.title}}}))));\r\t\tListItems();\r\t\tprops.history.push({\r\t\t\tpathname: `search`,\r\t\t\tsearch: \"?\" + new URLSearchParams({q: e.target.value}).toString()\r\t\t});\r\t\tstore.dispatch(setQueryParams(e.target.value));\r\t};\r\r\tfunction useNetwork() {\r\t\tconst [isOnline, setNetwork] = React.useState(window.navigator.onLine);\r\t\tconst updateNetwork = () => {\r\t\t\tsetNetwork(window.navigator.onLine);\r\t\t};\r\t\tuseEffect(() => {\r\t\t\twindow.addEventListener(\"offline\", updateNetwork);\r\t\t\twindow.addEventListener(\"online\", updateNetwork);\r\t\t\treturn () => {\r\t\t\t\twindow.removeEventListener(\"offline\", updateNetwork);\r\t\t\t\twindow.removeEventListener(\"online\", updateNetwork);\r\t\t\t};\r\t\t});\r\t\treturn isOnline;\r\t}\r\r\tuseEffect(() => {\r\t\treturn () => {\r\t\t\tabortController.abort();\r\t\t};\r\t}, []);\r\treturn (\r\t\t<div className=\"SearchComponent\">\r\t\t\t<Dialog fullScreen open={open} onClose={() => {\r\t\t\t}} TransitionComponent={Transition}>\r\t\t\t\t<AppBar className={`fixed-top`}>\r\t\t\t\t\t<Toolbar>\r\t\t\t\t\t\t{window.history ? <IconButton onClick={() => {\r\t\t\t\t\t\t\tsetOpen(false);\r\t\t\t\t\t\t}} component={Link} to={\"/home\"} color=\"primary.light\" visibility={false}>\r\t\t\t\t\t\t\t<ArrowBack color=\"#FFF\"/>\r\t\t\t\t\t\t</IconButton> : <></>}\r\t\t\t\t\t\t<InputBase\r\t\t\t\t\t\t\tautoCapitalize={true}\r\t\t\t\t\t\t\tautoComplete={true}\r\t\t\t\t\t\t\tautoFocus={true}\r\t\t\t\t\t\t\tonKeyUp={Search}\r\t\t\t\t\t\t\tonFocus={() => {\r\r\t\t\t\t\t\t\t}}\r\t\t\t\t\t\t\tonBlur={() => {\r\r\t\t\t\t\t\t\t}}\r\t\t\t\t\t\t\tclassName={`${classes.input} text-light`}\r\t\t\t\t\t\t\tplaceholder=\"Search Kabeers Music\"\r\t\t\t\t\t\t\tinputProps={{\"aria-label\": \"Search Kabeers Music\"}}\r\t\t\t\t\t\t/>\r\t\t\t\t\t</Toolbar>\r\t\t\t\t</AppBar>\r\t\t\t\t<div className=\"container px-3\" style={{marginTop: \"4rem\"}}>\r\t\t\t\t\t<div className=\"row\">\r\t\t\t\t\t\t{listItems}\r\t\t\t\t\t\t{listItems ? null : <Preloader/>}\r\t\t\t\t\t</div>\r\t\t\t\t</div>\r\t\t\t</Dialog>\r\t\t</div>\r\t);\r};\rSearchComponent.propTypes = {};\r\rSearchComponent.defaultProps = {};\r\rconst mapStateToProps = state => ({\r\tquery: state.q,\r});\rexport default connect(mapStateToProps)(pure(SearchComponent));\r"],"sourceRoot":""}